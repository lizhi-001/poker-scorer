<view class="container">
  <view class="card user-card">
    <van-image wx:if="{{avatarUrl}}" round width="120rpx" height="120rpx" src="{{avatarUrl}}" />
    <van-icon wx:else name="user-circle-o" size="60px" color="#999" />
    <view class="user-info">
      <text class="nickname">{{nickname || '未登录'}}</text>
      <text class="text-muted" wx:if="{{logged}}">总牌局: {{totalGames}} 场</text>
    </view>
  </view>
  <van-button wx:if="{{!logged}}" type="primary" block bind:click="onLogin">微信登录</van-button>
  <block wx:if="{{logged}}">
    <van-cell-group title="我的战绩">
      <van-cell title="总盈亏" value="{{totalProfit >= 0 ? '+' : ''}}{{totalProfit}}" value-class="{{totalProfit >= 0 ? 'text-success' : 'text-danger'}}" />
      <van-cell title="参与牌局" value="{{totalGames}} 场" />
    </van-cell-group>
    <view class="logout-wrap">
      <van-button plain type="default" block bind:click="onLogout">退出登录</van-button>
    </view>
  </block>
</view>
